import{m as i,f as u,R as l,C as p,j as _}from"./index-Dnfjscuv.js";import{C as f}from"./camera-BkgcWKh1.js";var g=Object.defineProperty,v=Object.getOwnPropertyDescriptor,m=(s,e,t,r)=>{for(var a=r>1?void 0:r?v(e,t):e,c=s.length-1,o;c>=0;c--)(o=s[c])&&(a=(r?o(e,t,a):o(a))||a);return r&&a&&g(e,t,a),a};let n=class extends i(f){cameraImage;cameraImageSource="";startPlayback(){try{this.updateStatus("connecting");const e=this.buildAbsoluteUrl(this.camera.stream_url||"");e.searchParams.set("cacheBust",Date.now().toString()),this.cameraImageSource=e.toString(),this.updateRawCameraUrl(this.cameraImageSource)}catch(e){u.error(`[Uv4LMjpegCamera] failed to start playback "${this.camera.name}"`,e)}}stopPlayback(){this.updateStatus("disconnected"),this.cameraImageSource="",this.cameraImage.src=""}};m([l("streamingElement")],n.prototype,"cameraImage",2);n=m([p({})],n);var d=function(){var e=this,t=e._self._c;return e._self._setupProxy,t("img",{directives:[{name:"show",rawName:"v-show",value:e.status==="connected",expression:"status === 'connected'"}],ref:"streamingElement",style:e.cameraStyle,attrs:{src:e.cameraImageSource,crossorigin:e.crossorigin},on:{load:function(r){return e.updateStatus("connected")},error:function(r){return e.updateStatus("error")}}})},h=[],S=_(n,d,h,!1,null,null);const P=S.exports;export{P as default};
